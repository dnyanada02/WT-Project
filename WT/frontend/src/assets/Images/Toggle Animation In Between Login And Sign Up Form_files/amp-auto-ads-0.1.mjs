(self.AMP=self.AMP||[]).push({m:1,v:"2110082201002",n:"amp-auto-ads",ev:"0.1",l:true,f:function(AMP,_){let n;class aa{constructor(){this.promise=new Promise(((a,b)=>{this.resolve=a;this.reject=b}))}}function ba(a){return new Promise((b=>{b(a())}))}let ca=Object.prototype.toString;function p(a){return a||{}}function t(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}t["default"]=t;t.__esModule=!0;function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?v(Object(c),!0).forEach((function(d){t(a,d,c[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):v(Object(c)).forEach((function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(c,d))}))}return a}function v(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})));c.push.apply(c,d)}return c}u["default"]=u;u.__esModule=!0;let w=Array.isArray;function x(a,b){let c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}let da=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function z(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}function A(a){let b=Object.create(null);if(!a)return b;for(var c;c=da.exec(a);){let d=z(c[1],c[1]);c=c[2]?z(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}let B=self.AMP_CONFIG||{},ea=("string"==typeof B.cdnProxyRegex?new RegExp(B.cdnProxyRegex):B.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function C(a){if(self.document&&self.document.head&&(!self.location||!ea.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}B.cdnUrl||C("runtime-host");B.geoApiUrl||C("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let D=self.__AMP_LOG;function E(){if(!D.user)throw Error("failed to call initLogConstructor");return D.user}function F(a,b){E().assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function G(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function I(a,b){var c=J(a);c=J(c);c=c.isSingleDoc()?c.win:c;return H(c,b)}function J(a){return a.nodeType?G((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function H(a,b){let c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function K(a){var b,c,d,e,f;if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);let g=a.__AMP__EXPERIMENT_TOGGLES,h=u(u({},null!==(b=a.AMP_CONFIG)&&void 0!==b?b:{}),null!==(c=a.AMP_EXP)&&void 0!==c?c:JSON.parse((null===(d=a.__AMP_EXP)||void 0===d?void 0:d.textContent)||"{}"));for(let k in h){let q=h[k];"number"===typeof q&&0<=q&&1>=q&&(g[k]=Math.random()<q)}let l=null===(e=a.AMP_CONFIG)||void 0===e?void 0:e["allow-doc-opt-in"];if(w(l)&&l.length){let k=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(k){let q=k.getAttribute("content").split(",");for(let y of q)l.includes(y)&&(g[y]=!0)}}b=Object;c=b.assign;var m;d="";try{"localStorage"in a&&(d=a.localStorage.getItem("amp-experiment-toggles"))}catch(k){}d=(null===(m=d)||void 0===m?void 0:m.split(/\s*,\s*/g))||[];m=Object.create(null);for(let k of d)k&&("-"==k[0]?m[k.substr(1)]=!1:m[k]=!0);c.call(b,g,m);let r=null===(f=a.AMP_CONFIG)||void 0===f?void 0:f["allow-url-opt-in"];if(w(r)&&r.length){a=A(a.location.originalHash||a.location.hash);for(let k of r)f=a[`e-${k}`],"1"==f&&(g[k]=!0),"0"==f&&(g[k]=!1)}return g}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function fa(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function ha(a,b){return a.closest?a.closest(b):fa(a,(c=>{let d=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return d?d.call(c,b):!1}))}function L(a,b,c){a=a.createElement(b);for(let d in c)a.setAttribute(d,c[d]);return a}function M(a){return I(a,"documentInfo").get()}function N(a){return I(a,"viewport")}function O(a,b){let c=[];let d=4096-a.length;let e=Object.keys(b);for(let f=0;f<e.length;f++){let g=e[f],h=b[g];if(null==h||""===h)continue;let l=encodeURIComponent(g)+"=",m=encodeURIComponent(String(h)),r=l.length+m.length+1;if(r>d){let k=m.substr(0,d-l.length-1).replace(/%\w?$/,"");k&&c.push(l+k);break}c.push(l+m);d-=r}return c.length?a+"?"+c.join("&"):a}new Set(["c","v","a","ad"]);let P;function Q(a){P||(P=self.document.createElement("a"));var b=P;b.href="";a=new URL(a,b.href);return a}class ia{constructor(a){this.j=a}isEnabled(){return!0}isResponsiveEnabled(){return!0}getConfigUrl(){let a=M(this.j),b=Q(a.canonicalUrl).hostname,c=this.j.ownerDocument.defaultView;return O("//pagead2.googlesyndication.com/getconfig/ama",{client:this.j.getAttribute("data-ad-client"),plah:b,ama_t:"amp",url:a.canonicalUrl,debug_experiment_id:(/(?:#|,)deid=([\d,]+)/i.exec(c.location.hash)||[])[1]||null})}getAttributes(){let a=p({type:"adsense","data-ad-client":this.j.getAttribute("data-ad-client")}),b=this.j.getAttribute("data-ad-host"),c=this.j.getAttribute("data-ad-host-channel");b&&(a["data-ad-host"]=b,c&&(a["data-ad-host-channel"]=c));return a}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){return{}}}class ja{constructor(a){this.j=a}isEnabled(){return!0}isResponsiveEnabled(){return!1}getConfigUrl(){let a=M(this.j),b=this.j.getAttribute("data-publisher-id"),c=this.j.getAttribute("data-page-type"),d=this.j.getAttribute("data-content-category")||"";return O("//analytics.alright.network/amp/",{p:b,t:c,c:d,u:a.canonicalUrl,w:window.screen.width,h:window.screen.height})}getAttributes(){return p({width:300,height:250,layout:"responsive","data-multi-size-validation":"false",type:"doubleclick","data-ad":"alright"})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){return{width:300,height:250}}}class ka{constructor(a){this.j=a}isEnabled(){return!0}isResponsiveEnabled(){return!0}getConfigUrl(){let a=M(this.j),b=this.j.getAttribute("data-account-id");if(b)return O("https://v3.denakop.com/ad-request",{a:b,v:"amp",u:a.canonicalUrl});let c=this.j.getAttribute("data-publisher-id"),d=this.j.getAttribute("data-tag-id");return O("//v2.denakop.com/ad-request/amp",{p:c,t:d,u:a.canonicalUrl})}getAttributes(){return p({"data-multi-size-validation":"false",type:"doubleclick","data-ad":"denakop",style:"position:relative !important"})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:4,spacing:2*a},{adCount:8,spacing:3*a}],maxAdCount:20}}getSizing(){return{}}}class la{constructor(a){this.j=a}isEnabled(){return!0}isResponsiveEnabled(){return!1}getConfigUrl(){let a=M(this.j),b=Q(a.canonicalUrl).hostname;return O("//pagead2.googlesyndication.com/getconfig/ama",{client:this.j.getAttribute("data-ad-legacy-client"),plah:b,ama_t:"amp",url:a.canonicalUrl})}getAttributes(){return p({type:"doubleclick","data-slot":this.j.getAttribute("data-slot"),json:this.j.getAttribute("data-json")})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){var a=this.j.getAttribute("data-experiment");try{var b=JSON.parse(a)}catch(d){void 0,b=null}let c=b;return c?{height:c.height?Number(c.height):250,width:c.width?Number(c.width):void 0}:{}}}class ma{constructor(a){this.j=a;this.pvid64=0}isEnabled(){return!0}isResponsiveEnabled(){return!1}getConfigUrl(){let a=0;M(this.j).pageViewId64.then((oa=>{this.pvid64=oa}));let b=window.location.host;var c=window.location.pathname,d=window.location.search;d=Object.assign(A(window.location.hash),A(d));let e=M(this.j),f=c.match(/amp\/fi\/(\d+)\//);null!=f&&2==f.length&&(a=f[1]);let g=d.fi_reveal,h=d.fi_demand,l=d.fi_geo,m=d.disable_fi,r=d.fi_cdnhost||(a?b:"cdn.firstimpression.io"),k=d.fi_cdnpath||(a?"/amp-preview.php":"/delivery/amp.php"),q=this.j.getAttribute("data-website-id"),y=this.j.getAttribute("data-targeting");c={id:q,url:e.canonicalUrl,w:window.screen.width,h:window.screen.height};y&&(c.targeting=y);void 0!==g&&(c.fi_reveal=g);void 0!==h&&(c.fi_demand=h);l&&(c.fi_geo=l);m&&(c.disable_fi=m);a&&(c.preview_id=a);return O("https://"+r+k,c)}getAttributes(){return p({type:"firstimpression","data-pvid64":this.pvid64})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){return{height:1}}}class na{constructor(a){this.j=a}isEnabled(){return!0}isResponsiveEnabled(){return!1}getConfigUrl(){let a=this.j.dataset;return O(`${a.host||"https://tags.premiumads.com.br"}/autoads/${a.publisher}`,{})}getAttributes(){let a=this.j.dataset;return p({type:"doubleclick","data-ad":"premiumads",layout:a.layout||"fixed",style:a.style||"margin: 15px auto; position: relative !important; display: block !important;"})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){return{}}}class pa{constructor(a){this.j=a}isEnabled(){let a=this.j.getAttribute("data-website-id");return!(!a||!a.match(/^[0-9]+$/))}isResponsiveEnabled(){return!0}getConfigUrl(){let a=M(this.j),b=this.j.getAttribute("data-website-id");return O("https://api.bounceexchange.com/bounce/amp",{w_id:b,calling_url:a.sourceUrl})}getAttributes(){return p({type:"wunderkind","data-ad":"wunderkind",layout:"responsive",height:"250",width:"250"})}getDefaultAdConstraints(){let a=N(this.j).getSize().height;return{initialMinSpacing:a,subsequentMinSpacing:[{adCount:3,spacing:2*a},{adCount:6,spacing:3*a}],maxAdCount:8}}getSizing(){return{}}}function qa(a,b){return"adsense"==a?new ia(b):"alright"==a?new ja(b):"denakop"==a?new ka(b):"doubleclick"==a?new la(b):"firstimpression.io"==a?new ma(b):"premiumads"==a?new na(b):"wunderkind"==a?new pa(b):null}function R(a){a.tagName.startsWith("AMP-");if(a.createdCallback)return Promise.resolve(a);if(!a.__AMP_UPG_PRM){let b=new aa;a.__AMP_UPG_PRM=b.promise;a.__AMP_UPG_RES=b.resolve}return a.__AMP_UPG_PRM}let ra={type:!0,"rtc-config":!0,layout:!0,height:!0,width:!0};function S(a,b){if(a[b]&&"[object Object]"===ca.call(a[b])&&!w(a[b])){b=a[b];let d={};for(c in b){if(!ra[c]&&!c.startsWith("data-"))continue;let e=typeof b[c];if("number"==e||"string"==e||"boolean"==e)d[c]=String(b[c])}var c=d}else c={};return c}function T(a){return G(a.ownerDocument.defaultView,"vsync").measurePromise((()=>{var b=a.ownerDocument.body;let c=0,d=0;for(var e=a;e&&e!=b;e=e.offsetParent)c+=e.offsetLeft,d+=e.offsetTop;b=a.offsetWidth;e=a.offsetHeight;return{left:c,top:d,width:b,height:e,bottom:d+e,right:c+b,x:c,y:d}}))}let sa=["AMP-SIDEBAR","AMP-APP-BANNER"],ta={1:(a,b)=>{a.parentNode.insertBefore(b,a)},4:(a,b)=>{a.parentNode.insertBefore(b,a.nextSibling)},2:(a,b)=>{a.insertBefore(b,a.firstChild)},3:(a,b)=>{a.appendChild(b)}};function ua(a,b){b=Object.assign(p({width:"100vw",height:"0",layout:"fixed","class":"i-amphtml-layout-awaiting-size","data-auto-format":"rspv","data-full-width":""}),b,a.I);return L(a.ampdoc.win.document,"amp-ad",b)}function va(a,b,c){b=Object.assign(p({layout:c?"fixed":"fixed-height",height:"0",width:c?c:"auto","class":"i-amphtml-layout-awaiting-size"}),b,a.I);return L(a.ampdoc.win.document,"amp-ad",b)}class wa{constructor(a,b,c,d,e,f){this.ampdoc=a;this.U=I(b,"mutator");this.D=b;this.V=c;this.P=d;this.I=e;this.S=f;this.G=null;this.o=0}getAdElement(){return this.G}getEstimatedPosition(){return T(this.D).then((a=>{a:switch(this.V){case 1:case 2:a=a.top;break a;case 3:case 4:a=a.bottom;break a;default:throw Error("Unknown position")}return a}))}placeAd(a,b,c,d){return this.getEstimatedPosition().then((e=>this.ampdoc.win.scrollY>e?this.o=0:c.isTooNearAnAd(e).then((f=>{if(f)return this.o=3;let g=d&&488>N(this.D).getSize().width;this.G=g?ua(this,a):va(this,a,b.width);this.P(this.D,this.getAdElement());return g?R(this.getAdElement()).then((()=>this.getAdElement().build())).then((()=>this.o=this.getAdElement().classList.contains("i-amphtml-layout-awaiting-size")?1:2)):Promise.resolve({height:b.height||250,margins:this.S}).then((h=>R(this.getAdElement()).then((()=>this.getAdElement().build())).then((()=>this.U.requestChangeSize(this.getAdElement(),h.height,h.width,h.margins))).then((()=>this.o=2),(()=>this.o=1))))}))))}}function xa(a,b){let c=b.placements;if(!c)return[];let d=[];c.forEach((e=>{ya(a,e,d)}));return d}function ya(a,b,c){let d=ta[b.pos];if(d){var e=b.anchor;if(e){var f=U(a.getRootNode(),e);if(f.length){var g=void 0;if(b.style){let h=parseInt(b.style.top_m,10),l=parseInt(b.style.bot_m,10);if(h||l)g={top:h||void 0,bottom:l||void 0}}f.forEach((h=>{if(za(h,b.pos)){var l=S(b,"attributes");c.push(new wa(a,h,b.pos,d,l,g))}}))}}}}function U(a,b){var c=b.selector;if(!c)return[];c=[].slice.call((a.documentElement||a).querySelectorAll(c.replace(/^|,/g,"$&:scope ")));let d=b.min_c||0;0<d&&(c=c.filter((e=>e.textContent.length>=d)));"number"!=typeof b.index&&b.all||(c=(c=c[b.index||0])?[c]:[]);if(0==c.length)return[];if(b.sub){let e=[];c.forEach((f=>{e=e.concat(U(f,b.sub))}));return e}return c}function za(a,b){let c=1==b||4==b?a.parentElement:a;return c?!sa.some((d=>ha(c,d)?!0:!1)):!1}function V(a){return{adsPlaced:a.H,totalAdsOnPage:a.B.getAdCount()}}function W(a){let b=a.L.shift();return b?b.placeAd(a.F,a.W,a.B,a.R).then((c=>2==c?(a.B.addAd(b.getAdElement()),a.H++,!0):W(a))):Promise.resolve(!1)}class Aa{constructor(a,b,c,d,e=!1){this.L=a.slice(0);this.F=b;this.W=c;this.B=d;this.H=0;this.R=e}run(){return this.B.isMaxAdCountReached()?ba((()=>V(this))):W(this).then((a=>a?this.run():V(this)))}}function X(a){let b=a.getAdCount();let c=a.O;for(let d=0;d<a.K.length;d++){let e=a.K[d];e.adCount<=b&&(c=e.spacing)}return c}function Y(a,b,c){return c>=a.C.length?Promise.resolve(!1):Ba(b,a.C[c]).then((d=>d<a.J?!0:Y(a,b,c+1)))}function Ba(a,b){return T(b).then((c=>a>=c.top&&a<=c.bottom?0:Math.min(Math.abs(a-c.top),Math.abs(a-c.bottom))))}class Ca{constructor(a,b){this.C=a;this.O=b.initialMinSpacing;this.K=b.subsequentMinSpacing.slice(0).sort(((c,d)=>c.adCount-d.adCount));this.T=b.maxAdCount;this.J=X(this)}addAd(a){this.C.push(a);this.J=X(this)}getAdCount(){return this.C.length}isMaxAdCountReached(){return this.getAdCount()>=this.T}isTooNearAnAd(a){return Y(this,a,0)}}function Da(a){return[].slice.call(a.getRootNode().querySelectorAll("AMP-AD")).filter((b=>b.parentElement&&"AMP-STICKY-AD"==b.parentElement.tagName?!1:!0))}function Ea(a,b){b=b.adConstraints;if(!b)return null;let c=N(a).getHeight(),d=Z(b.initialMinSpacing,c);if(null==d)return null;let e=(b.subsequentMinSpacing||[]).map((f=>{let g=f.adCount;if(null==g)return null;f=Z(f.spacing,c);return null==f?null:{adCount:g,spacing:f}}));return-1!=e.indexOf(null)||null==b.maxAdCount?null:{initialMinSpacing:d,subsequentMinSpacing:e,maxAdCount:b.maxAdCount}}function Z(a,b){if(!a)return null;let c=parseFloat(a);return isNaN(c)||0>c?null:x(a,"px")?c:x(a,"vp")?c*b:null}class Fa{constructor(a,b,c){this.ampdoc=a;this.F=b;this.M=c}run(){if(this.ampdoc.getRootNode().querySelector("AMP-STICKY-AD")||!E().assertArray(this.M.optInStatus||[]).includes(2))return Promise.resolve(!1);G(this.ampdoc.win,"extensions").installExtensionForDoc(this.ampdoc,"amp-sticky-ad","1.0");var a=this.F,b=N(this.ampdoc).getWidth();b=Object.assign({},a,p({width:String(b),height:a.height||"100"}));a=this.ampdoc.win.document;b=L(a,"amp-ad",b);a=L(a,"amp-sticky-ad",p({layout:"nodisplay"}));a.appendChild(b);b=this.ampdoc.getBody();b.insertBefore(a,b.firstChild);return Promise.resolve(!0)}}function Ga(a,b){return G(a.win,"xhr").fetchJson(b,{mode:"cors",method:"GET",credentials:"omit"}).then((c=>c.json())).catch((c=>{a.user().error("amp-auto-ads","amp-auto-ads config xhr failed: "+c);return null}))}function Ha(a){let b=a.getAmpDoc();return a.N.then((c=>{if(c){var d=c.noConfigReason;d&&a.user().warn("amp-auto-ads",d);var e=xa(b,c),f=Object.assign(p({}),a.A.getAttributes(),S(c,"attributes")),g=a.A.getSizing(),h=Ea(b,c)||a.A.getDefaultAdConstraints();h=new Ca(Da(b),h);new Aa(e,f,g,h,a.A.isResponsiveEnabled()).run();var l=Object.assign(p({}),f,S(c,"stickyAdAttributes"));new Fa(b,l,c).run()}}))}class Ia extends AMP.BaseElement{buildCallback(){var a=this.element.getAttribute("type");F(a,"Missing type attribute");this.A=qa(a,this.element);F(this.A,"No AdNetworkConfig for type: "+a);this.A.isEnabled(this.win)&&(a=this.getAmpDoc(),G(this.win,"extensions").installExtensionForDoc(a,"amp-ad"),this.N=this.getAmpDoc().whenFirstVisible().then((()=>Ga(this,this.A.getConfigUrl()))),K(this.win)["auto-ads-layout-callback"]||Ha(this))}isLayoutSupported(){return!0}layoutCallback(){if(K(this.win)["auto-ads-layout-callback"])var a=Ha(this);else n||(n=Promise.resolve(void 0)),a=n;return a}}AMP.registerElement("amp-auto-ads",Ia)}});//# sourceMappingURL=amp-auto-ads-0.1.mjs.map